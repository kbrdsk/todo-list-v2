{"version":3,"sources":["nav-menu/index.js","add-window/new-item.js","add-window/existing-item.js","add-window/item-determination.js","add-window/type-selection.js","add-window/index.js","display/contact-list.js","display/collections.js","display/todo-list.js","display/tags.js","display/items.js","display/index.js","model/todo.js","model/storage.js","index.js"],"names":["NavMenu","id","className","onClick","this","navTo","collection","navigator","goTo","itemManager","React","Component","NewItem","props","todo","todos","add","project","projects","category","categories","contact","contacts","generator","type","attributes","state","Object","defineProperty","carrier","get","item","first","last","attr","name","event","setState","assign","target","value","includes","placeholder","onChange","updateAttr","bind","ExistingItem","selection","destination","renderSelection","selectItem","title","contactName","context","todoList","list","itemType","isChildOf","tags","filter","tagFilter","contactFilter","todoFilter","map","ItemDetermination","handleSubmit","hideAddWindow","e","stopPropagation","new","TypeSelection","newItem","next","tag","AddWindow","backToTypeSelect","goToItemDetermination","typeSelection","collectionType","ContactList","addContact","renderContact","showAddWindow","key","storageId","remove","ProjectCollection","renderProject","CategoryCollection","renderCategory","ContactCollection","TodoList","focus","renderItem","renderAddButton","isDone","toggleDone","Tags","Project","showContacts","toggleView","description","Todo","Category","Contact","email","phone","organization","Display","displayItem","displayCollection","Error","isDate","require","deleteItem","index","indexOf","splice","urgency","dueDate","TodoDate","scheduleDate","TagList","favorite","_todoList","createTodoList","create","isOwnParent","call","getPrototypeOf","prototype","categoryName","creatingObj","Array","from","todoItem","slice","place","sort","todoUrgencySort","todo1","todo2","date","defineProperties","set","setDate","Set","delete","clear","packObject","todoListObject","packedObject","todoListStorageData","loadObject","dataObject","object","loadTodoList","loadingObject","todoObjectArray","todoObject","find","obj","parentProjects","some","proj","nullItemDestination","app","addWindowItemDestination","addWindowVisible","addTodo","push","addProject","addCategory","length","App","addWindowVisibility","dataString","localStorage","itemManagerDataString","dataArray","JSON","parse","pop","console","log","load","packedArray","stringify","save","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fb9aadaa.chunk.js","sourcesContent":["import React from \"react\";\n\nimport { navigator, itemManager } from \"../index.js\";\n\nimport \"./style.css\";\n\nexport class NavMenu extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div id=\"nav-menu\">\n\t\t\t\t<button className=\"projects\" onClick={this.navTo(\"projects\")}>\n\t\t\t\t\tProjects\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"categories\"\n\t\t\t\t\tonClick={this.navTo(\"categories\")}\n\t\t\t\t>\n\t\t\t\t\tCategories\n\t\t\t\t</button>\n\t\t\t\t<button className=\"contacts\" onClick={this.navTo(\"contacts\")}>\n\t\t\t\t\tContacts\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tnavTo(collection) {\n\t\treturn () => navigator.goTo(itemManager[collection]);\n\t}\n}\n","import React from \"react\";\n\nimport { itemManager } from \"../index.js\";\n\nexport class NewItem extends React.Component {\n\t#generators = {\n\t\ttodo: itemManager.todos.add,\n\t\tproject: itemManager.projects.add,\n\t\tcategory: itemManager.categories.add,\n\t\tcontact: itemManager.contacts.add,\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconst generator = this.#generators[this.props.type];\n\t\tconst attributes = {};\n\t\tthis.state = { attributes };\n\t\tObject.defineProperty(this.props.carrier, \"item\", {\n\t\t\tget() {\n\t\t\t\tconst item = generator(attributes.first, attributes.last);\n\t\t\t\tfor (let attr in attributes) {\n\t\t\t\t\titem[attr] = attributes[attr];\n\t\t\t\t}\n\t\t\t\treturn item;\n\t\t\t},\n\t\t});\n\t}\n\n\tupdateAttr(name, event) {\n\t\tthis.setState({\n\t\t\tattributes: Object.assign(this.state.attributes, {\n\t\t\t\t[name]: event.target.value,\n\t\t\t}),\n\t\t});\n\t}\n\n\trender() {\n\t\tconst type = this.props.type;\n\t\treturn (\n\t\t\t<div className=\"item-form\">\n\t\t\t\t{[\"project\", \"todo\", \"category\"].includes(type) ? (\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Title\"\n\t\t\t\t\t\tonChange={this.updateAttr.bind(this, \"title\")}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t\t{[\"project\", \"todo\"].includes(type) ? (\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Description\"\n\t\t\t\t\t\tonChange={this.updateAttr.bind(this, \"description\")}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t\t{type === \"contact\" ? (\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"First\"\n\t\t\t\t\t\tonChange={this.updateAttr.bind(this, \"first\")}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t\t{type === \"contact\" ? (\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Last\"\n\t\t\t\t\t\tonChange={this.updateAttr.bind(this, \"last\")}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t\t{type === \"contact\" ? (\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tplaceholder=\"email@domain\"\n\t\t\t\t\t\tonChange={this.updateAttr.bind(this, \"email\")}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t\t{type === \"contact\" ? (\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\t\tplaceholder=\"(xxx) xxx-xxxx\"\n\t\t\t\t\t\tonChange={this.updateAttr.bind(this, \"phone\")}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t\t{type === \"contact\" ? (\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Organization\"\n\t\t\t\t\t\tonChange={this.updateAttr.bind(this, \"organization\")}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t);\n\t}\n}","import React from \"react\";\n\nimport { itemManager } from \"../index.js\";\n\nexport class ExistingItem extends React.Component {\n\t#collections = {\n\t\ttodo: itemManager.todos,\n\t\tproject: itemManager.projects,\n\t\tcategory: itemManager.categories,\n\t\tcontact: itemManager.contacts,\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { selection: null };\n\t\tthis.destination = this.props.destination;\n\t\tthis.type = this.props.type;\n\t\tthis.renderSelection = this.renderSelection.bind(this);\n\t}\n\n\tselectItem(selection) {\n\t\tthis.props.carrier.item = selection;\n\t\tthis.setState({ selection });\n\t}\n\n\trenderSelection(item) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tonClick={() => this.selectItem(item)}\n\t\t\t\tclassName={item === this.state.selection ? \"selected\" : \"\"}\n\t\t\t>\n\t\t\t\t{item.title ||\n\t\t\t\t\titem.contactName.last + \", \" + item.contactName.first}\n\t\t\t</div>\n\t\t);\n\t}\n\n\ttodoFilter() {\n\t\tconst context = this.props.context;\n\t\tconst todoList = this.destination.list();\n\t\treturn (item) =>\n\t\t\t!todoList.includes(item) &&\n\t\t\t!(item === context) &&\n\t\t\t!(context.itemType === \"project\" && context.isChildOf(item));\n\t}\n\n\ttagFilter() {\n\t\tconst context = this.props.context;\n\t\treturn (item) =>\n\t\t\t!(item === context) &&\n\t\t\t!(item.itemType === \"project\" && item.isChildOf(context)) &&\n\t\t\t!item.todoList.list().includes(context);\n\t}\n\n\tcontactFilter() {\n\t\tconst context = this.props.context;\n\t\tif (context.itemType === \"category\")\n\t\t\treturn (contact) => !contact.tags.list().includes(context);\n\t\telse return (contact) => !contact.todoList.list().includes(context);\n\t}\n\n\trender() {\n\t\tconst filter = this.destination.tags\n\t\t\t? this.tagFilter()\n\t\t\t: this.destination.contact\n\t\t\t? this.contactFilter()\n\t\t\t: this.todoFilter();\n\t\tconst collection = this.#collections[this.type];\n\t\treturn (\n\t\t\t<div className=\"item-form\">\n\t\t\t\t{collection.filter(filter).map(this.renderSelection)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React from \"react\";\n\nimport { navigator } from \"../index.js\";\nimport { NewItem } from \"./new-item.js\";\nimport { ExistingItem } from \"./existing-item.js\";\n\nexport class ItemDetermination extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.carrier = {};\n\t}\n\n\thandleSubmit(event) {\n\t\tthis.props.destination.add(this.carrier.item);\n\t\tnavigator.hideAddWindow();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"popup\" onClick={(e) => e.stopPropagation()}>\n\t\t\t\t{this.props.new ? (\n\t\t\t\t\t<NewItem carrier={this.carrier} type={this.props.type} />\n\t\t\t\t) : (\n\t\t\t\t\t<ExistingItem\n\t\t\t\t\t\tcarrier={this.carrier}\n\t\t\t\t\t\ttype={this.props.type}\n\t\t\t\t\t\tdestination={this.props.destination}\n\t\t\t\t\t\tcontext={this.props.context}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<button onClick={this.handleSubmit}>Add</button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React from \"react\";\n\nexport class TypeSelection extends React.Component {\n\tnext(newItem, itemType) {\n\t\treturn () => this.props.next(newItem, itemType);\n\t}\n\trender() {\n\t\tconst tag = !!this.props.destination.tags;\n\t\tconst contact = this.props.destination.contact;\n\t\tconst context = this.props.context;\n\t\treturn (\n\t\t\t<div className=\"popup\" onClick={(e) => e.stopPropagation()}>\n\t\t\t\t{!contact && !tag && context !== \"category\" ? (\n\t\t\t\t\t<button onClick={this.next(true, \"todo\")}>New Todo</button>\n\t\t\t\t) : null}\n\t\t\t\t{!contact && !tag && context !== \"category\" ? (\n\t\t\t\t\t<button onClick={this.next(false, \"todo\")}>\n\t\t\t\t\t\tExisting Todo\n\t\t\t\t\t</button>\n\t\t\t\t) : null}\n\t\t\t\t{!contact ? (\n\t\t\t\t\t<button onClick={this.next(true, \"project\")}>\n\t\t\t\t\t\tNew Project\n\t\t\t\t\t</button>\n\t\t\t\t) : null}\n\t\t\t\t{!contact ? (\n\t\t\t\t\t<button onClick={this.next(false, \"project\")}>\n\t\t\t\t\t\tExisting Project\n\t\t\t\t\t</button>\n\t\t\t\t) : null}\n\t\t\t\t{tag ? (\n\t\t\t\t\t<button onClick={this.next(true, \"category\")}>\n\t\t\t\t\t\tNew Category\n\t\t\t\t\t</button>\n\t\t\t\t) : null}\n\t\t\t\t{tag ? (\n\t\t\t\t\t<button onClick={this.next(false, \"category\")}>\n\t\t\t\t\t\tExisting Category\n\t\t\t\t\t</button>\n\t\t\t\t) : null}\n\t\t\t\t{contact ? (\n\t\t\t\t\t<button onClick={this.next(true, \"contact\")}>\n\t\t\t\t\t\tNew Contact\n\t\t\t\t\t</button>\n\t\t\t\t) : null}\n\t\t\t\t{contact ? (\n\t\t\t\t\t<button onClick={this.next(false, \"contact\")}>\n\t\t\t\t\t\tExisting Contact\n\t\t\t\t\t</button>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React from \"react\";\n\nimport { navigator } from \"../index.js\";\n\nimport { ItemDetermination } from \"./item-determination.js\";\nimport { TypeSelection } from \"./type-selection.js\";\n\nimport \"./style.css\";\n\nexport class AddWindow extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.backToTypeSelect = this.backToTypeSelect.bind(this);\n\t\tthis.goToItemDetermination = this.goToItemDetermination.bind(this);\n\t\tthis.state = {\n\t\t\ttypeSelection: !!this.props.context.itemType,\n\t\t\tnewItem: true,\n\t\t\titemType: this.props.context.collectionType,\n\t\t};\n\t}\n\n\tbackToTypeSelect(event) {\n\t\tevent.stopPropagation();\n\t\tthis.setState({ typeSelection: true });\n\t}\n\n\tgoToItemDetermination(newItem, itemType) {\n\t\tthis.setState({ typeSelection: false, newItem, itemType });\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tid=\"popup-background\"\n\t\t\t\tonClick={() => navigator.hideAddWindow()}\n\t\t\t>\n\t\t\t\t<div id=\"popup-container\">\n\t\t\t\t\t{this.props.context.itemType &&\n\t\t\t\t\t!this.state.typeSelection ? (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"back\"\n\t\t\t\t\t\t\tonClick={this.backToTypeSelect}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tBack\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : null}\n\n\t\t\t\t\t{this.state.typeSelection ? (\n\t\t\t\t\t\t<TypeSelection\n\t\t\t\t\t\t\tnext={this.goToItemDetermination}\n\t\t\t\t\t\t\tdestination={this.props.destination}\n\t\t\t\t\t\t\tcontext={this.props.context.itemType}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ItemDetermination\n\t\t\t\t\t\t\tdestination={this.props.destination}\n\t\t\t\t\t\t\ttype={this.state.itemType}\n\t\t\t\t\t\t\tnew={this.state.newItem}\n\t\t\t\t\t\t\tcontext={this.props.context}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React from \"react\";\n\nimport { navigator, itemManager } from \"../index.js\";\n\nexport class ContactList extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconst item = props.item;\n\t\tthis.addContact = {\n\t\t\tadd: (contact) => {\n\t\t\t\tif (!item);\n\t\t\t\telse if (item.itemType === \"category\") contact.tags.add(item);\n\t\t\t\telse contact.todoList.add(item);\n\t\t\t},\n\t\t\tcontact: true,\n\t\t};\n\t}\n\trender() {\n\t\tconst item = this.props.item;\n\t\tconst list = !item\n\t\t\t? itemManager.contacts\n\t\t\t: itemManager.contacts.filter((contact) =>\n\t\t\t\t\titem.itemType !== \"category\"\n\t\t\t\t\t\t? contact.todoList.list().includes(item)\n\t\t\t\t\t\t: contact.tags.list().includes(item)\n\t\t\t  );\n\t\treturn (\n\t\t\t<div className=\"contact-list\">\n\t\t\t\t{list.map((contact) => this.renderContact(contact))}\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"contact\"\n\t\t\t\t\tonClick={() => navigator.showAddWindow(this.addContact)}\n\t\t\t\t>\n\t\t\t\t\tAdd Contact\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderContact(contact) {\n\t\treturn (\n\t\t\t<div className=\"contact\"  key={contact.storageId}>\n\t\t\t\t<span onClick={() => navigator.goTo(contact)}>\n\t\t\t\t\t{`${contact.contactName.last}, ${contact.contactName.first}`}\n\t\t\t\t</span>\n\t\t\t\t<button className=\"delete\" onClick={() => {\n\t\t\t\t\tconst item = this.props.item;\n\t\t\t\t\tif(item) contact.todoList.remove(item);\n\t\t\t\t\telse itemManager.contacts.remove(contact);\n\t\t\t\t\tnavigator.goTo(item || itemManager.contacts);\n\t\t\t\t}}>{\"\\u2715\"}</button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React from \"react\";\n\nimport { ContactList } from \"./contact-list.js\";\n\nimport { navigator, itemManager } from \"../index.js\";\n\nclass ProjectCollection extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"collection\">\n\t\t\t\t<h2>Projects</h2>\n\t\t\t\t{itemManager.projects.map(this.renderProject)}\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"project\"\n\t\t\t\t\tonClick={() => navigator.showAddWindow()}\n\t\t\t\t>\n\t\t\t\t\tAdd Project\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderProject(project) {\n\t\treturn (\n\t\t\t<div className=\"project\"  key={project.storageId}>\n\t\t\t\t<span onClick={navTo(project)}>{project.title}</span>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"delete\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\titemManager.projects.remove(project);\n\t\t\t\t\t\tnavigator.goTo(itemManager.projects);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{\"\\u2715\"}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass CategoryCollection extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"collection\">\n\t\t\t\t<h2>Categories</h2>\n\t\t\t\t{itemManager.categories.map(this.renderCategory)}\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"category\"\n\t\t\t\t\tonClick={() => navigator.showAddWindow()}\n\t\t\t\t>\n\t\t\t\t\tAdd Category\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderCategory(category) {\n\t\treturn (\n\t\t\t<div className=\"category\" key={category.storageId}>\n\t\t\t\t<span onClick={navTo(category)}>{category.title}</span>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"delete\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\titemManager.categories.remove(category);\n\t\t\t\t\t\tnavigator.goTo(itemManager.categories);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{\"\\u2715\"}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass ContactCollection extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h2>Contacts</h2>\n\t\t\t\t<ContactList />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction navTo(item) {\n\treturn () => navigator.goTo(item);\n}\n\nexport { ProjectCollection, CategoryCollection, ContactCollection };\n","import React from \"react\";\n\nimport { navigator } from \"../index.js\";\n\nexport class TodoList extends React.Component {\n\trender() {\n\t\tconst list = this.props.focus.todoList.list();\n\t\treturn (\n\t\t\t<div className=\"todo-list\">\n\t\t\t\t{list.map((item) => this.renderItem(item))}\n\t\t\t\t{this.renderAddButton()}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderItem(item) {\n\t\treturn (\n\t\t\t<div className=\"todo-list-item\" key={item.storageId}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={\"checkbox\" + (item.isDone?\" done\":\"\")}\n\t\t\t\t\tonClick={this.toggleDone.bind(this, item)}\n\t\t\t\t>\n\t\t\t\t</div>\n\t\t\t\t<div onClick={() => navigator.goTo(item)}>{item.title}</div>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.props.focus.todoList.remove(item);\n\t\t\t\t\t\titem.tags.remove(this.props.focus);\n\t\t\t\t\t\tnavigator.goTo(this.props.focus);\n\t\t\t\t\t}}\n\t\t\t\t\tclassName=\"delete\"\n\t\t\t\t>\n\t\t\t\t\t{\"\\u2715\"}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\ttoggleDone(item) {\n\t\titem.isDone = !item.isDone;\n\t\tnavigator.goTo(this.props.focus);\n\t}\n\n\trenderAddButton() {\n\t\tconst focus = this.props.focus;\n\t\tconst title =\n\t\t\tfocus.itemType === \"category\" ? \"Add Project\" : \"Add Todo\";\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"todo-list-item\"\n\t\t\t\tonClick={() => navigator.showAddWindow(focus.todoList)}\n\t\t\t>\n\t\t\t\t{title}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React from \"react\";\n\nimport { navigator } from \"../index.js\";\n\nexport class Tags extends React.Component {\n\trender() {\n\t\tconst list = this.props.focus.tags.list();\n\t\treturn (\n\t\t\t<div className=\"tag-list\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"item\"\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\tnavigator.showAddWindow(this.props.focus.tags)\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t+ New Tag\n\t\t\t\t</div>\n\t\t\t\t{list.map((item) => this.renderItem(item))}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderItem(item) {\n\t\treturn (\n\t\t\t<div className=\"item\" key={item.storageId}>\n\t\t\t\t<span onClick={() => navigator.goTo(item)}>{item.title}</span>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"delete\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\titem.todoList.remove(this.props.focus);\n\t\t\t\t\t\tthis.props.focus.tags.remove(item);\n\t\t\t\t\t\tnavigator.goTo(this.props.focus);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{\"\\u2715\"}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React from \"react\";\n\nimport { TodoList } from \"./todo-list.js\";\nimport { ContactList } from \"./contact-list.js\";\nimport { Tags } from \"./tags.js\";\n\nclass Project extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { showContacts: false };\n\t\tthis.toggleView = this.toggleView.bind(this);\n\t}\n\n\trender() {\n\t\tconst project = this.props.focus;\n\t\treturn (\n\t\t\t<div className=\"item-display\">\n\t\t\t\t<h2>{project.title}</h2>\n\t\t\t\t{project.description ? <p>{project.description}</p> : null}\n\t\t\t\t<button onClick={this.toggleView}>\n\t\t\t\t\t{this.state.showContacts ? \"Todo List\" : \"Contacts\"}\n\t\t\t\t</button>\n\t\t\t\t{this.state.showContacts ? (\n\t\t\t\t\t<ContactList item={project} />\n\t\t\t\t) : (\n\t\t\t\t\t<TodoList focus={project} />\n\t\t\t\t)}\n\t\t\t\t<Tags focus={project} />\n\t\t\t</div>\n\t\t);\n\t}\n\n\ttoggleView() {\n\t\tthis.setState({ showContacts: !this.state.showContacts });\n\t}\n}\n\nclass Todo extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { showContacts: false };\n\t\tthis.toggleView = this.toggleView.bind(this);\n\t}\n\trender() {\n\t\tconst todo = this.props.focus;\n\t\treturn (\n\t\t\t<div className=\"item-display\">\n\t\t\t\t<h2>{todo.title}</h2>\n\t\t\t\t<p>{todo.description}</p>\n\t\t\t\t<button onClick={this.toggleView}>\n\t\t\t\t\t{this.state.showContacts\n\t\t\t\t\t\t? \"Hide Contacts\"\n\t\t\t\t\t\t: \"Show Contacts\"}\n\t\t\t\t</button>\n\t\t\t\t{this.state.showContacts ? <ContactList item={todo} /> : null}\n\t\t\t\t<Tags focus={todo} />\n\t\t\t</div>\n\t\t);\n\t}\n\n\ttoggleView() {\n\t\tthis.setState({ showContacts: !this.state.showContacts });\n\t}\n}\n\nclass Category extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { showContacts: false };\n\t\tthis.toggleView = this.toggleView.bind(this);\n\t}\n\trender() {\n\t\tconst category = this.props.focus;\n\t\treturn (\n\t\t\t<div className=\"item-display\">\n\t\t\t\t<h2>{category.title}</h2>\n\t\t\t\t<button onClick={this.toggleView}>\n\t\t\t\t\t{this.state.showContacts ? \"Project List\" : \"Contacts\"}\n\t\t\t\t</button>\n\t\t\t\t{this.state.showContacts ? (\n\t\t\t\t\t<ContactList item={category} />\n\t\t\t\t) : (\n\t\t\t\t\t<TodoList focus={category} />\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\ttoggleView() {\n\t\tthis.setState({ showContacts: !this.state.showContacts });\n\t}\n}\n\nclass Contact extends React.Component {\n\trender() {\n\t\tconst contact = this.props.focus;\n\t\treturn (\n\t\t\t<div className=\"item-display\">\n\t\t\t\t<h2>\n\t\t\t\t\t{contact.contactName.first + \" \" + contact.contactName.last}\n\t\t\t\t</h2>\n\t\t\t\t<span>{contact.email}</span>\n\t\t\t\t<span>{contact.phone}</span>\n\t\t\t\t<span>{contact.organization}</span>\n\t\t\t\t<TodoList focus={contact} />\n\t\t\t\t<Tags focus={contact} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport { Project, Todo, Category, Contact };\n","import React from \"react\";\n\nimport {\n\tProjectCollection,\n\tCategoryCollection,\n\tContactCollection,\n} from \"./collections.js\";\nimport { Todo, Project, Category, Contact } from \"./items.js\";\n\nimport \"./style.css\";\n\nexport class Display extends React.Component {\n\trender() {\n\t\tconst focus = this.props.focus;\n\t\treturn (\n\t\t\t<div id=\"display\">\n\t\t\t\t{focus.itemType\n\t\t\t\t\t? this.displayItem(focus.itemType)\n\t\t\t\t\t: this.displayCollection(focus.collectionType)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\tdisplayItem(itemType) {\n\t\tswitch (itemType) {\n\t\t\tcase \"todo\":\n\t\t\t\treturn <Todo focus={this.props.focus} />;\n\t\t\tcase \"project\":\n\t\t\t\treturn <Project focus={this.props.focus} />;\n\t\t\tcase \"category\":\n\t\t\t\treturn <Category focus={this.props.focus} />;\n\t\t\tcase \"contact\":\n\t\t\t\treturn <Contact focus={this.props.focus} />;\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"item type not recognized\");\n\t\t}\n\t}\n\n\tdisplayCollection(collectionType) {\n\t\tswitch (collectionType) {\n\t\t\tcase \"project\":\n\t\t\t\treturn <ProjectCollection focus={this.props.focus} />;\n\t\t\tcase \"category\":\n\t\t\t\treturn <CategoryCollection focus={this.props.focus} />;\n\t\t\tcase \"contact\":\n\t\t\t\treturn <ContactCollection focus={this.props.focus} />;\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"collection type not recognized\");\n\t\t}\n\t}\n}\n","const isDate = require(\"date-fns/isDate\");\n\nexport function TodoManager() {\n\tconst todos = [];\n\tconst projects = [];\n\tconst contacts = [];\n\tconst categories = [];\n\n\tconst addTodo = function (name) {\n\t\tconst todo = new Todo(name);\n\t\ttodos.push(todo);\n\t\treturn todo;\n\t};\n\tconst addProject = function (name) {\n\t\tconst project = new Project(name);\n\t\tprojects.push(project);\n\t\treturn project;\n\t};\n\tconst addCategory = function (name) {\n\t\tconst category = new Category(name);\n\t\tcategories.push(category);\n\t\treturn category;\n\t};\n\tconst addContact = function (first, last) {\n\t\tconst contact = new Contact(first, last);\n\t\tcontacts.push(contact);\n\t\treturn contact;\n\t};\n\n\tObject.defineProperties(this, {\n\t\ttodos: {\n\t\t\tget() {\n\t\t\t\tconst collection = [...todos].filter(\n\t\t\t\t\t(todo) => todo.tags.list().length > 0\n\t\t\t\t);\n\t\t\t\tcollection.collectionType = \"todo\";\n\t\t\t\tcollection.add = addTodo;\n\t\t\t\tcollection.remove = deleteItem.bind(todos);\n\t\t\t\treturn collection;\n\t\t\t},\n\t\t},\n\t\tprojects: {\n\t\t\tget() {\n\t\t\t\tconst collection = [...projects];\n\t\t\t\tcollection.collectionType = \"project\";\n\t\t\t\tcollection.add = addProject;\n\t\t\t\tcollection.remove = deleteItem.bind(projects);\n\t\t\t\treturn collection;\n\t\t\t},\n\t\t},\n\t\tcontacts: {\n\t\t\tget() {\n\t\t\t\tconst collection = [...contacts];\n\t\t\t\tcollection.collectionType = \"contact\";\n\t\t\t\tcollection.add = addContact;\n\t\t\t\tcollection.remove = deleteItem.bind(contacts);\n\t\t\t\treturn collection;\n\t\t\t},\n\t\t},\n\t\tcategories: {\n\t\t\tget() {\n\t\t\t\tconst collection = [...categories];\n\t\t\t\tcollection.collectionType = \"category\";\n\t\t\t\tcollection.add = addCategory;\n\t\t\t\tcollection.remove = deleteItem.bind(categories);\n\t\t\t\treturn collection;\n\t\t\t},\n\t\t},\n\t});\n}\n\nfunction deleteItem(item) {\n\tfor (let tag of item.tags ? item.tags.list() : []) {\n\t\ttag.todoList.remove(item);\n\t}\n\tfor (let todo of item.todoList ? item.todoList.list() : []) {\n\t\titem.todoList.remove(todo);\n\t}\n\tconst index = this.indexOf(item);\n\tthis.splice(index, 1);\n}\n\nfunction Todo(name = \"New Todo\") {\n\tthis.itemType = \"todo\";\n\tthis.title = name;\n\tthis.description = \"\";\n\tthis.urgency = 0;\n\tthis.isDone = false;\n\tthis.dueDate = new TodoDate();\n\tthis.scheduleDate = new TodoDate();\n\tthis.tags = new TagList(this);\n}\n\nfunction Project(name = \"New Project\") {\n\tthis.itemType = \"project\";\n\tthis.title = name;\n\tthis.description = \"\";\n\tthis.favorite = false;\n\tthis.urgency = 0;\n\tthis.isDone = false;\n\tthis.dueDate = new TodoDate();\n\tthis.scheduleDate = new TodoDate();\n\tthis.tags = new TagList(this);\n\tthis._todoList = createTodoList(this);\n\tthis.todoList = Object.create(this._todoList);\n\n\tthis.todoList.add = (item) => {\n\t\tif (isOwnParent.call(this, item)) {\n\t\t\tthrow new Error(\"Looping projects\");\n\t\t}\n\t\tthis._todoList.add(item);\n\t};\n}\n\nProject.prototype = {\n\tisChildOf(project) {\n\t\tlet parentProjects = this.tags\n\t\t\t.list()\n\t\t\t.filter((tag) => tag.itemType === \"project\");\n\t\treturn (\n\t\t\t!!parentProjects &&\n\t\t\t(parentProjects.includes(project) ||\n\t\t\t\tparentProjects.some((proj) => proj.isChildOf(project)))\n\t\t);\n\t},\n};\n\nfunction isOwnParent(item) {\n\treturn (\n\t\tObject.getPrototypeOf(item) === Project.prototype &&\n\t\tthis.isChildOf(item)\n\t);\n}\n\nfunction Contact(first = \"New\", last = \"Contact\") {\n\tthis.itemType = \"contact\";\n\tthis.contactName = { first, last };\n\tthis.email = \"\";\n\tthis.phone = \"\";\n\tthis.organization = \"\";\n\tthis.favorite = false;\n\tthis.tags = new TagList(this);\n\tthis.todoList = createTodoList(this);\n}\n\nfunction Category(categoryName = \"New Category\") {\n\tthis.itemType = \"category\";\n\tthis.title = categoryName;\n\tthis.favorite = false;\n\tthis.todoList = createTodoList(this);\n}\n\nfunction createTodoList(creatingObj) {\n\tlet todos = [];\n\n\tlet add = (todoItem) => {\n\t\tif (todos.includes(todoItem)) return;\n\t\ttodos = [...todos, todoItem];\n\t\tif (creatingObj.itemType !== \"contact\") {\n\t\t\ttodoItem.tags.add(creatingObj);\n\t\t}\n\t};\n\n\tlet remove = (todoItem) => {\n\t\tif (todos.includes(todoItem)) {\n\t\t\tlet index = todos.indexOf(todoItem);\n\t\t\ttodos = [...todos.slice(0, index), ...todos.slice(index + 1)];\n\t\t}\n\t};\n\n\tlet place = (todoItem, index) => {\n\t\tif (todos.includes(todoItem)) return;\n\t\ttodos = [...todos.slice(0, index), todoItem, ...todos.slice(index)];\n\t};\n\n\tlet sort = () => {\n\t\ttodos.sort(todoUrgencySort);\n\t};\n\n\tlet list = () => Array.from(todos);\n\n\treturn { list, add, remove, place, sort };\n}\n\nfunction todoUrgencySort(todo1, todo2) {\n\tif (todo1.urgency < todo2.urgency) return 1;\n\tif (todo1.urgency > todo2.urgency) return -1;\n\treturn 0;\n}\n\nfunction TodoDate() {\n\tlet date = null;\n\n\tObject.defineProperties(this, {\n\t\tdate: {\n\t\t\tget: function () {\n\t\t\t\treturn date;\n\t\t\t},\n\t\t\tset: function (setDate) {\n\t\t\t\tif (!isDate(setDate))\n\t\t\t\t\tthrow new Error(\"Must enter a valid Date\");\n\t\t\t\tdate = setDate;\n\t\t\t},\n\t\t},\n\t});\n\n\tthis.remove = () => {\n\t\tdate = null;\n\t};\n}\n\nfunction TagList(item) {\n\tthis.tags = new Set();\n\n\tthis.add = (tag) => {\n\t\tthis.tags.add(tag);\n\t\tif (tag.todoList) tag.todoList.add(item);\n\t};\n\n\tthis.remove = (tag) => {\n\t\tthis.tags.delete(tag);\n\t};\n\n\tthis.clear = () => {\n\t\tthis.tags = new Set();\n\t};\n\n\tthis.list = () => {\n\t\treturn Array.from(this.tags);\n\t};\n}\n","import { itemManager } from \"../index.js\";\n\n//----------save-----------\n\nfunction save() {\n\titemManager.storageId = itemManager.storageId || 1;\n\tconst packedArray = [];\n\tfor (let collection of [\n\t\titemManager.todos,\n\t\titemManager.projects,\n\t\titemManager.categories,\n\t\titemManager.contacts,\n\t]) {\n\t\tpackedArray.push(collection.map(packObject));\n\t}\n\tpackedArray.push(itemManager.storageId);\n\tlocalStorage.itemManagerDataString = JSON.stringify(packedArray);\n\tconsole.log(\"Saved\");\n}\n\nfunction packObject(todoListObject) {\n\ttodoListObject.storageId =\n\t\ttodoListObject.storageId || itemManager.storageId++;\n\tlet packedObject = Object.assign({}, todoListObject);\n\tif (todoListObject.todoList) {\n\t\tpackedObject.todoListStorageData = todoListObject.todoList\n\t\t\t.list()\n\t\t\t.map((todo) => todo.storageId);\n\t}\n\n\tfor (let packedProperty of [\n\t\t\"todoList\",\n\t\t\"_todoList\",\n\t\t\"tags\",\n\t\t\"dueDate\",\n\t\t\"scheduleDate\",\n\t\t\"createTag\",\n\t]) {\n\t\tdelete packedObject[packedProperty];\n\t}\n\treturn packedObject;\n}\n\n//----------load-----------\n\nfunction load(dataString = localStorage.itemManagerDataString) {\n\tif (!dataString) return;\n\n\tlet dataArray = JSON.parse(dataString);\n\n\titemManager.storageId = dataArray.pop();\n\n\tconst todos = dataArray[0].map((obj) => loadObject(obj, itemManager.todos));\n\tdataArray[1].map((obj) => loadObject(obj, itemManager.projects));\n\tdataArray[2].map((obj) => loadObject(obj, itemManager.categories));\n\tdataArray[3].map((obj) => loadObject(obj, itemManager.contacts));\n\n\tlet todoObjectArray = [...todos, ...itemManager.projects];\n\n\tfor (let collection of [\n\t\titemManager.projects,\n\t\titemManager.categories,\n\t\titemManager.contacts,\n\t]) {\n\t\tcollection.map((obj) => loadTodoList(obj, todoObjectArray));\n\t}\n\n\tconsole.log(\"Loaded\");\n}\n\nfunction loadObject(dataObject, collection) {\n\tlet object = collection.add();\n\tObject.assign(object, dataObject);\n\treturn object;\n}\n\nfunction loadTodoList(loadingObject, todoObjectArray) {\n\tfor (let storageId of loadingObject.todoListStorageData) {\n\t\tlet todoObject = todoObjectArray.find(\n\t\t\t(obj) => obj.storageId === storageId\n\t\t);\n\t\tloadingObject.todoList.add(todoObject);\n\t}\n}\n\n//----------reset-----------\n\nfunction reset() {\n\tlocalStorage.itemManagerDataString = \"\";\n}\n\n//----------exports-----------\n\nexport { save, load, reset };\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { NavMenu } from \"./nav-menu/index.js\";\nimport { AddWindow } from \"./add-window/index.js\";\nimport { Display } from \"./display/index.js\";\n\nimport { TodoManager } from \"./model/todo.js\";\nimport { save, load/*, reset*/ } from \"./model/storage.js\";\n\nimport \"./style.css\";\n\nconst nullItemDestination = { add() {} };\n\nconst navigator = {\n\tgoTo(focus) {\n\t\tthis.hideAddWindow();\n\t\tthis.app.setState({ focus });\n\t},\n\thideAddWindow() {\n\t\tthis.app.setState({\n\t\t\taddWindowItemDestination: nullItemDestination,\n\t\t\taddWindowVisible: false,\n\t\t});\n\t},\n\tshowAddWindow(addWindowItemDestination = nullItemDestination) {\n\t\tthis.app.setState({\n\t\t\taddWindowItemDestination,\n\t\t\taddWindowVisible: true,\n\t\t});\n\t},\n};\n\nconst itemManager = new TodoManager();\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tnavigator.app = this;\n\t\titemManager.app = this;\n\t\tthis.state = {\n\t\t\tfocus: itemManager.projects,\n\t\t\taddWindowItemDestination: null,\n\t\t\taddWindowVisibility: false,\n\t\t};\n\t\tload();\n\t}\n\n\trender() {\n\t\tsave();\n\t\treturn (\n\t\t\t<div id=\"app\">\n\t\t\t\t{/*<button onClick={reset}>Reset</button>*/}\n\t\t\t\t<NavMenu />\n\t\t\t\t<Display focus={this.state.focus} />\n\t\t\t\t{this.state.addWindowVisible ? (\n\t\t\t\t\t<AddWindow\n\t\t\t\t\t\tdestination={this.state.addWindowItemDestination}\n\t\t\t\t\t\tcontext={this.state.focus}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport { navigator, itemManager };\n\n// ========================================\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}